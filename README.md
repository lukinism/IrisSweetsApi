# üç¨ Iris Sweets API

[![PHP Version](https://img.shields.io/badge/PHP-8.3%2B-blue.svg)](https://php.net)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Composer](https://img.shields.io/badge/Composer-Ready-orange.svg)](composer.json)

**PHP –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Iris Sweets API**

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª–¥–æ–π** - –≤—ã–¥–∞—á–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Ä–∏—Å–∫–∞–º–∏** - –≤—ã–¥–∞—á–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π  
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—à–∫–æ–º** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–µ—Ç–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤–∞–º –∏ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞—à –º–µ—à–æ–∫
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–ª–∞–Ω—Å–µ
- **–†–∞–±–æ—Ç–∞ —Å –±–∏—Ä–∂–µ–π** - —Å—Ç–∞–∫–∞–Ω –∑–∞—è–≤–æ–∫, –∏—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫, –∞–Ω–∞–ª–∏–∑ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–¢–æ—Ä–≥–æ–≤–ª—è –∏—Ä–∏—Å-–≥–æ–ª–¥** - –ø–æ–∫—É–ø–∫–∞, –ø—Ä–æ–¥–∞–∂–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –±–∏—Ä–∂–µ
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å–ø–∞–º-—Å—Ç–∞—Ç—É—Å, –∑–≤—ë–∑–¥–Ω–æ—Å—Ç—å, –º–µ—à–æ–∫

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/lukinism/IrisSweetsApi.git
cd IrisSweetsLibrary

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
composer install
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª .env (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
cp env.example .env
```

2. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:**
```env
# ID –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
IRIS_BOT_ID=your_bot_id_here

# –¢–æ–∫–µ–Ω
IRIS_TOKEN=your_iris_token_here
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

```php
$api = new IrisSweets($botId, $irisToken, $baseUrl);
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';

use IrisSweetsApi\IrisSweets;
use IrisSweetsApi\Exception\ApiException;

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env
$api = new IrisSweets();

// –ò–ª–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞–ø—Ä—è–º—É—é
$api = new IrisSweets('your-bot-id', 'your-iris-token');
```

### üí∞ –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞

```php
try {
    $balance = $api->balance()->getBalance();
    echo "–ì–æ–ª–¥: " . $balance['gold'] . "\n";
    echo "–ò—Ä–∏—Å–∫–∏: " . $balance['sweets'] . "\n";
    echo "–î–æ–Ω–∞—Ç –æ—á–∫–∏: " . $balance['donate_score'] . "\n";
} catch (ApiException $e) {
    echo "–û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```

### üç¨ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∏—Ä–∏—Å–∫–∞–º–∏

```php
try {
    // –í—ã–¥–∞—Ç—å 10 –∏—Ä–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    $result = $api->sweets()->give(10, 123456);
    echo "‚úÖ –ò—Ä–∏—Å–∫–∏ —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω—ã\n";
    
    // –í—ã–¥–∞—Ç—å 5.5 –∏—Ä–∏—Å–æ–∫ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
    $result = $api->sweets()->give(5.5, 123456, '–ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å');
    echo "‚úÖ –ò—Ä–∏—Å–∫–∏ —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω—ã\n";
    
    // –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π
    $history = $api->sweets()->getHistory(0);
    echo "–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π: " . count($history) . " –∑–∞–ø–∏—Å–µ–π\n";
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π
    foreach ($history as $transaction) {
        $type = match($transaction['type']) {
            'send' => '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ',
            'receive' => '–ü–æ–ª—É—á–µ–Ω–æ',
            'dividends' => '–î–∏–≤–∏–¥–µ–Ω–¥—ã',
            'trade' => '–¢–æ—Ä–≥–æ–≤–ª—è',
            default => $transaction['type']
        };
        
        echo "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è #{$transaction['id']}: {$type} {$transaction['amount']} –∏—Ä–∏—Å–æ–∫\n";
    }
    
} catch (ApiException $e) {
    echo "‚ùå –û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```

### ü™ô –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –≥–æ–ª–¥–æ–π

```php
try {
    // –í—ã–¥–∞—Ç—å 100 –≥–æ–ª–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    $result = $api->gold()->give(100, 123456);
    echo "‚úÖ –ì–æ–ª–¥–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω–æ\n";
    
    // –í—ã–¥–∞—Ç—å 50.5 –≥–æ–ª–¥—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
    $result = $api->gold()->give(50.5, 123456, '–ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å');
    echo "‚úÖ –ì–æ–ª–¥–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–∞–Ω–æ\n";
    
    // –ü–æ–ª—É—á–∏—Ç—å –æ–±—â—É—é –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π
    $history = $api->gold()->getHistory(0);
    echo "–û–±—â–∞—è –∏—Å—Ç–æ—Ä–∏—è: " . count($history) . " –∑–∞–ø–∏—Å–µ–π\n";
    
} catch (ApiException $e) {
    echo "‚ùå –û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```

### üëú –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—à–∫–æ–º

```php
try {
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∫ –º–µ—à–∫—É
    $api->pocket()->enable();      // –û—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø
    $api->pocket()->disable();     // –ó–∞–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥—ã
    $api->pocket()->allow_all();   // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å
    $api->pocket()->deny_all();    // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Å–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    $api->pocket()->allow_user(123456);  // –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    $api->pocket()->deny_user(123456);   // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    
    echo "‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ—à–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã\n";
    
} catch (ApiException $e) {
    echo "‚ùå –û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```

### üíπ –†–∞–±–æ—Ç–∞ —Å –±–∏—Ä–∂–µ–π

```php
try {
    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞–∫–∞–Ω–∞ –∑–∞—è–≤–æ–∫
    $orderBook = $api->exchange()->getOrderBook();
    echo "–ó–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É: " . count($orderBook['buy']) . "\n";
    echo "–ó–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É: " . count($orderBook['sell']) . "\n";
    
    // –õ—É—á—à–∏–µ —Ü–µ–Ω—ã
    $bestBid = $api->exchange()->getBestBidPrice();
    $bestAsk = $api->exchange()->getBestAskPrice();
    $spread = $api->exchange()->getSpread();
    
    echo "–õ—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏: $bestBid\n";
    echo "–õ—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏: $bestAsk\n";
    echo "–°–ø—Ä–µ–¥: $spread\n";
    
    // –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫
    $deals = $api->exchange()->getDeals();
    echo "–ü–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–¥–µ–ª–æ–∫: " . count($deals) . "\n";
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–¥–µ–ª–∫–∞–º
    $stats = $api->exchange()->getDealsStats();
    echo "–û–±—â–∏–π –æ–±—ä–µ–º: " . $stats['total_volume'] . "\n";
    echo "–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: " . round($stats['avg_price'], 4) . "\n";
    
} catch (ApiException $e) {
    echo "‚ùå –û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```

### üè™ –¢–æ—Ä–≥–æ–≤–ª—è –∏—Ä–∏—Å-–≥–æ–ª–¥

```php
try {
    // –ü–æ–∫—É–ø–∫–∞ –∏—Ä–∏—Å-–≥–æ–ª–¥
    $buyResult = $api->trade()->buy(1.5, 10); // –∫—É–ø–∏—Ç—å 10 –∏—Ä–∏—Å-–≥–æ–ª–¥ –ø–æ —Ü–µ–Ω–µ 1.5
    echo "–ö—É–ø–ª–µ–Ω–æ —Å—Ä–∞–∑—É: " . $buyResult['result']['done_volume'] . "\n";
    echo "–ü–æ—Ç—Ä–∞—á–µ–Ω–æ –∏—Ä–∏—Å–æ–∫: " . $buyResult['result']['sweets_spent'] . "\n";
    
    if (isset($buyResult['result']['new_order'])) {
        echo "–°–æ–∑–¥–∞–Ω–∞ –∑–∞—è–≤–∫–∞ #" . $buyResult['result']['new_order']['id'] . "\n";
    }
    
    // –ü—Ä–æ–¥–∞–∂–∞ –∏—Ä–∏—Å-–≥–æ–ª–¥
    $sellResult = $api->trade()->sell(1.4, 5); // –ø—Ä–æ–¥–∞—Ç—å 5 –∏—Ä–∏—Å-–≥–æ–ª–¥ –ø–æ —Ü–µ–Ω–µ 1.4
    echo "–ü—Ä–æ–¥–∞–Ω–æ —Å—Ä–∞–∑—É: " . $sellResult['result']['done_volume'] . "\n";
    echo "–ü–æ–ª—É—á–µ–Ω–æ –∏—Ä–∏—Å–æ–∫: " . $sellResult['result']['sweets_received'] . "\n";
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫
    $orders = $api->trade()->getMyOrders();
    echo "–ó–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É: " . count($orders['result']['buy']) . "\n";
    echo "–ó–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É: " . count($orders['result']['sell']) . "\n";
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏
    if ($api->trade()->hasActiveOrders()) {
        // –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏
        $cancelResult = $api->trade()->cancelAll();
        echo "–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ –≥–æ–ª–¥—ã: " . $cancelResult['result']['gold'] . "\n";
        echo "–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ –∏—Ä–∏—Å–æ–∫: " . $cancelResult['result']['sweets'] . "\n";
        
        // –ò–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ü–µ–Ω–µ
        $api->trade()->cancelByPrice(1.5);
        
        // –ò–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç—å –∑–∞—è–≤–∫–∏
        $api->trade()->cancelPart(123, 5); // –æ—Ç–º–µ–Ω–∏—Ç—å 5 –∏–∑ –∑–∞—è–≤–∫–∏ #123
    }
    
} catch (ApiException $e) {
    echo "‚ùå –û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```

### üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

```php
try {
    $userId = 123456;
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    $registration = $api->userInfo()->getRegistration($userId);
    echo "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: " . date('Y-m-d H:i:s', $registration['result']) . "\n";
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    $activity = $api->userInfo()->getActivity($userId);
    echo "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –¥–µ–Ω—å: " . $activity['result']['day'] . "\n";
    echo "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é: " . $activity['result']['week'] . "\n";
    echo "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –º–µ—Å—è—Ü: " . $activity['result']['month'] . "\n";
    echo "–û–±—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: " . $activity['result']['total'] . "\n";
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∞–º-—Å—Ç–∞—Ç—É—Å–∞
    $spamInfo = $api->userInfo()->getSpamInfo($userId);
    echo "–í —Å–ø–∞–º-–±–∞–∑–µ: " . ($spamInfo['result']['spam'] ? '–î–∞' : '–ù–µ—Ç') . "\n";
    echo "–í —Å–∫–∞–º-–±–∞–∑–µ: " . ($spamInfo['result']['scam'] ? '–î–∞' : '–ù–µ—Ç') . "\n";
    echo "–í –∏–≥–Ω–æ—Ä-–±–∞–∑–µ: " . ($spamInfo['result']['ignore'] ? '–î–∞' : '–ù–µ—Ç') . "\n";
    
    // –ó–≤—ë–∑–¥–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    $stars = $api->userInfo()->getStars($userId);
    echo "–ó–≤—ë–∑–¥–Ω–æ—Å—Ç—å: " . $stars['result'] . "\n";
    
    // –ú–µ—à–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    $pocket = $api->userInfo()->getPocket($userId);
    echo "–ò—Ä–∏—Å–∫–∏: " . $pocket['result']['sweets'] . "\n";
    echo "–ì–æ–ª–¥–∞: " . $pocket['result']['gold'] . "\n";
    echo "–ó–≤—ë–∑–¥—ã: " . $pocket['result']['stars'] . "\n";
    echo "–ú–æ–Ω–µ—Ç—ã: " . $pocket['result']['coins'] . "\n";
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    $multipleInfo = $api->userInfo()->getMultipleInfo($userId, ['reg', 'activity', 'spam']);
    echo "–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞\n";
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    $allInfo = $api->userInfo()->getAllInfo($userId);
    echo "–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ–ª—É—á–µ–Ω–∞\n";
    
    // –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
    if ($api->userInfo()->isSpam($userId)) {
        echo "‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–ø–∞–º-–±–∞–∑–µ!\n";
    }
    
    if ($api->userInfo()->isBlacklisted($userId)) {
        echo "‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —á—ë—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ!\n";
    }
    
    // –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    $dailyActivity = $api->userInfo()->getDailyActivity($userId);
    $pocketSweets = $api->userInfo()->getPocketSweets($userId);
    echo "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –¥–µ–Ω—å: $dailyActivity\n";
    echo "–ò—Ä–∏—Å–∫–∏ –≤ –º–µ—à–∫–µ: $pocketSweets\n";
    
} catch (ApiException $e) {
    echo "‚ùå –û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
}
```
## üìö API –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –ë–∞–ª–∞–Ω—Å
- `balance()->getBalance()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞

### –ò—Ä–∏—Å–∫–∏
- `sweets()->give($sweets, $userId, $comment)` - –≤—ã–¥–∞—á–∞ –∏—Ä–∏—Å–æ–∫
  - `$sweets` (int|float) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ä–∏—Å–æ–∫
  - `$userId` (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `$comment` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –≤—ã–¥–∞—á–µ
- `sweets()->getHistory($offset)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
  - `$offset` (int) - ID –∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–º–µ—â–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
  - **–¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π:** `send`, `receive`, `dividends`, `trade`

### –ì–æ–ª–¥–∞
- `gold()->give($gold, $userId, $comment)` - –≤—ã–¥–∞—á–∞ –≥–æ–ª–¥—ã
  - `$gold` (int|float) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–¥—ã
  - `$userId` (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `$comment` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –≤—ã–¥–∞—á–µ
- `gold()->getHistory($offset)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—à–∫–æ–º
- `pocket()->enable()` - –æ—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–µ—à–∫—É
- `pocket()->disable()` - –∑–∞–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–µ—à–∫—É
- `pocket()->allow_all()` - —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤ –º–µ—à–æ–∫
- `pocket()->deny_all()` - –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Å–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤ –º–µ—à–æ–∫
- `pocket()->allow_user($userId)` - —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `pocket()->deny_user($userId)` - –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `pocket()->giveDonateScore($amount, $userId, $comment)` - –ø–µ—Ä–µ–¥–∞—Ç—å –æ—á–∫–∏ –¥–æ–Ω–∞—Ç–∞
  - `$amount` (int) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞
  - `$userId` (int) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `$comment` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ–¥–ø–∏—Å—å –∫ –ø–µ—Ä–µ–≤–æ–¥—É
- `pocket()->getDonateScoreHistory($offset, $limit)` - –∏—Å—Ç–æ—Ä–∏—è –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞
  - `$offset` (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–º–µ—â–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
  - `$limit` (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 200)

### –ë–∏—Ä–∂–∞
- `exchange()->getOrderBook()` - –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞–∫–∞–Ω –∑–∞—è–≤–æ–∫
- `exchange()->getBestBidPrice()` - –ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏
- `exchange()->getBestAskPrice()` - –ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏
- `exchange()->getSpread()` - —Å–ø—Ä–µ–¥ –º–µ–∂–¥—É –ª—É—á—à–∏–º–∏ —Ü–µ–Ω–∞–º–∏
- `exchange()->getDeals($fromId)` - –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å–¥–µ–ª–æ–∫
- `exchange()->getDealsStats($fromId)` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–¥–µ–ª–∫–∞–º

### –¢–æ—Ä–≥–æ–≤–ª—è –∏—Ä–∏—Å-–≥–æ–ª–¥
- `trade()->buy($price, $volume)` - –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏—Ä–∏—Å-–≥–æ–ª–¥
  - `$price` (float) - —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (–æ—Ç 0.01 –¥–æ 1000000)
  - `$volume` (float) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–¥—ã –¥–ª—è –ø–æ–∫—É–ø–∫–∏
- `trade()->sell($price, $volume)` - –∑–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –∏—Ä–∏—Å-–≥–æ–ª–¥
  - `$price` (float) - —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (–æ—Ç 0.01 –¥–æ 1000000)
  - `$volume` (float) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–¥—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
- `trade()->getMyOrders()` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –±–æ—Ç–∞
- `trade()->cancelByPrice($price)` - –æ—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ü–µ–Ω–µ
- `trade()->cancelAll()` - –æ—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏ –±–æ—Ç–∞
- `trade()->cancelPart($id, $volume)` - –æ—Ç–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç—å –∑–∞—è–≤–∫–∏
  - `$id` (int) - ID –∑–∞—è–≤–∫–∏ –Ω–∞ –±–∏—Ä–∂–µ
  - `$volume` (float) - –æ–±—ä–µ–º –¥–ª—è –æ—Ç–º–µ–Ω—ã

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
- `trade()->getBuyOrders()` - —Ç–æ–ª—å–∫–æ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É
- `trade()->getSellOrders()` - —Ç–æ–ª—å–∫–æ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
- `trade()->getTotalBuyVolume()` - –æ–±—â–∏–π –æ–±—ä–µ–º –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É
- `trade()->getTotalSellVolume()` - –æ–±—â–∏–π –æ–±—ä–µ–º –∑–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
- `trade()->getOrdersCount()` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫
- `trade()->hasActiveOrders()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- `userInfo()->getRegistration($userId)` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `userInfo()->getActivity($userId)` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `userInfo()->getSpamInfo($userId)` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ø–∞–º-—Å—Ç–∞—Ç—É—Å–µ
- `userInfo()->getStars($userId)` - –∑–≤—ë–∑–¥–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `userInfo()->getPocket($userId)` - –º–µ—à–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `userInfo()->getMultipleInfo($userId, $permissions)` - –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- `userInfo()->getAllInfo($userId)` - –≤—Å—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### –ë—ã—Å—Ç—Ä—ã–µ –º–µ—Ç–æ–¥—ã
- `userInfo()->isSpam($userId)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∞–º-—Å—Ç–∞—Ç—É—Å–∞
- `userInfo()->isScam($userId)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–∞–º-—Å—Ç–∞—Ç—É—Å–∞
- `userInfo()->isIgnored($userId)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–≥–Ω–æ—Ä-—Å—Ç–∞—Ç—É—Å–∞
- `userInfo()->isBlacklisted($userId)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- `userInfo()->getDailyActivity($userId)` - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –¥–µ–Ω—å
- `userInfo()->getWeeklyActivity($userId)` - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é
- `userInfo()->getMonthlyActivity($userId)` - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –º–µ—Å—è—Ü
- `userInfo()->getTotalActivity($userId)` - –æ–±—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- `userInfo()->getPocketSweets($userId)` - –∏—Ä–∏—Å–∫–∏ –≤ –º–µ—à–∫–µ
- `userInfo()->getPocketGold($userId)` - –≥–æ–ª–¥–∞ –≤ –º–µ—à–∫–µ
- `userInfo()->getPocketStars($userId)` - –∑–≤—ë–∑–¥—ã –≤ –º–µ—à–∫–µ
- `userInfo()->getPocketCoins($userId)` - –º–æ–Ω–µ—Ç—ã –≤ –º–µ—à–∫–µ

#### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –æ —Ä–∞–±–æ—Ç–µ —Å API

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤:**
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–æ–≤ API –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å–ø–∞–º-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—è `is_spam`, `is_scam`, `is_ignore`, –Ω–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ `spam`, `scam`, `ignore` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è.

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
–ú–µ—Ç–æ–¥ `getMultipleInfo()` –¥–µ–ª–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
- `updates()->getUpdates($offset)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - `$offset` (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–º–µ—â–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)

#### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:
- `sweets_log` - —Å–æ–±—ã—Ç–∏—è —Å –∏—Ä–∏—Å–∫–∞–º–∏
- `gold_log` - —Å–æ–±—ã—Ç–∏—è —Å –≥–æ–ª–¥–æ–π
- `donate_score_log` - —Å–æ–±—ã—Ç–∏—è —Å –æ—á–∫–∞–º–∏ –¥–æ–Ω–∞—Ç–∞

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏—è:
```php
[
    'id' => int,                    // ID —Å–æ–±—ã—Ç–∏—è
    'type' => string,               // –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
    'date' => int,                  // UNIX-time
    'object' => array               // –û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è
]
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞:
```php
[
    'id' => int,                    // ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    'type' => string,               // 'send', 'send_with', 'receive', 'receive_with'
    'date' => int,                  // UNIX-time
    'amount' => int,                // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞
    'balance' => int,               // –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å
    'peer_id' => int,               // ID –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
    'comment' => string,            // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É
    'metadata' => array             // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
]
```

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `ApiException` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ API.

### –¢–∏–ø—ã –æ—à–∏–±–æ–∫

- **ApiException** - –æ—à–∏–±–∫–∏ –æ—Ç API (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤–∞–ª—é—Ç—ã, –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ —Ç.–¥.)
- **Exception** - –æ–±—â–∏–µ –æ—à–∏–±–∫–∏ (—Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

### –ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫

```json
{
    "error": {
        "code": 0,
        "description": "Not enough gold. Need 1"
    }
}
```

```json
{
    "error": {
        "code": 1,
        "description": "User not found"
    }
}
```

```json
{
    "error": {
        "code": 403,
        "description": "Rights are not given"
    }
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

#### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```php
try {
    $api->gold()->give(100, 123456);
} catch (ApiException $e) {
    echo "–û—à–∏–±–∫–∞ API: " . $e->getMessage() . "\n";
    echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: " . $e->getErrorCode() . "\n";
    echo "–û–ø–∏—Å–∞–Ω–∏–µ: " . $e->getErrorDescription() . "\n";
} catch (Exception $e) {
    echo "–û–±—â–∞—è –æ—à–∏–±–∫–∞: " . $e->getMessage() . "\n";
}
```

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```php
use IrisSweetsApi\Exception\ErrorHandler;

try {
    $api->sweets()->give(10, 123456);
} catch (ApiException $e) {
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    $message = ErrorHandler::handle($e);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
    if ($e->isRetryable()) {
        echo "–í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ\n";
        echo "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: " . $e->getRetryDelay() . " —Å–µ–∫\n";
    }
    
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    echo "–û—à–∏–±–∫–∞: " . $e->getUserFriendlyMessage() . "\n";
    
    // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
    $recommendations = ErrorHandler::getRecommendations($e);
    foreach ($recommendations as $rec) {
        echo "- " . $rec . "\n";
    }
    
    // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∞–≤
    if ($e->isRightsError()) {
        echo "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞!\n";
        echo "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ API\n";
    }
}
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏

```php
// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ API
$api->sweets()->setRetrySettings(3, 2, 1.5); // 3 –ø–æ–ø—ã—Ç–∫–∏, –±–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 2—Å

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (HTTP 500, 409)
```

#### –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏

```php
// –í–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
define('IRIS_DEBUG', true);
$api->sweets()->enableDebug();

// –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–µ
$detailedInfo = $e->getDetailedInfo();
print_r($detailedInfo);
```

**üìö –ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫](docs/ERROR_HANDLING.md)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **–¢–æ–∫–µ–Ω—ã –∏ ID** —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `env.example`** –∫–∞–∫ —à–∞–±–ª–æ–Ω –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏


## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç –¥–ª—è –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';

use IrisSweetsApi\IrisSweets;
use IrisSweetsApi\Exception\ApiException;

$api = new IrisSweets();

function giveReward($userId, $activity) {
    global $api;
    
    try {
        switch ($activity) {
            case 'daily_login':
                $api->sweets()->give(5, $userId, '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—Ö–æ–¥');
                $api->gold()->give(10, $userId, '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—Ö–æ–¥');
                break;
                
            case 'referral':
                $api->sweets()->give(20, $userId, '–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–≥–∞');
                $api->gold()->give(50, $userId, '–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–≥–∞');
                break;
                
            case 'achievement':
                $api->sweets()->give(15, $userId, '–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ');
                $api->gold()->give(25, $userId, '–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ');
                break;
        }
        
        return true;
    } catch (ApiException $e) {
        error_log("–û—à–∏–±–∫–∞ –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥—ã: " . $e->getMessage());
        return false;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
giveReward(123456, 'daily_login');
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞–ª–∞–Ω—Å–∞

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';

use IrisSweetsApi\IrisSweets;

$api = new IrisSweets();

function checkBalance() {
    global $api;
    
    try {
        $balance = $api->balance()->getBalance();
        
        echo "=== –ë–∞–ª–∞–Ω—Å –º–µ—à–∫–∞ ===\n";
        echo "–ì–æ–ª–¥–∞: " . $balance['gold'] . "\n";
        echo "–ò—Ä–∏—Å–∫–∏: " . $balance['sweets'] . "\n";
        echo "–î–æ–Ω–∞—Ç –æ—á–∫–∏: " . $balance['donate_score'] . "\n";
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
        if ($balance['gold'] < 100) {
            echo "‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: –º–∞–ª–æ –≥–æ–ª–¥—ã!\n";
        }
        
        if ($balance['sweets'] < 50) {
            echo "‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: –º–∞–ª–æ –∏—Ä–∏—Å–æ–∫!\n";
        }
        
    } catch (Exception $e) {
        echo "‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞: " . $e->getMessage() . "\n";
    }
}

checkBalance();
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';

use IrisSweetsApi\IrisSweets;
use IrisSweetsApi\Exception\ApiException;

$api = new IrisSweets();

function checkUser($userId) {
    global $api;
    
    try {
        // –ü–æ–ª—É—á–∞–µ–º –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        $userInfo = $api->userInfo()->getAllInfo($userId);
        
        echo "=== –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ $userId ===\n";
        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        $registration = $userInfo['result']['reg'];
        echo "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: " . date('Y-m-d H:i:s', $registration) . "\n";
        
        // –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        $activity = $userInfo['result']['activity'];
        echo "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:\n";
        echo "  - –ó–∞ –¥–µ–Ω—å: " . $activity['day'] . "\n";
        echo "  - –ó–∞ –Ω–µ–¥–µ–ª—é: " . $activity['week'] . "\n";
        echo "  - –ó–∞ –º–µ—Å—è—Ü: " . $activity['month'] . "\n";
        echo "  - –û–±—â–∞—è: " . $activity['total'] . "\n";
        
        // –°–ø–∞–º-—Å—Ç–∞—Ç—É—Å
        $spam = $userInfo['result']['spam'];
        echo "–°—Ç–∞—Ç—É—Å:\n";
        echo "  - –°–ø–∞–º: " . ($spam['spam'] ? '–î–∞' : '–ù–µ—Ç') . "\n";
        echo "  - –°–∫–∞–º: " . ($spam['scam'] ? '–î–∞' : '–ù–µ—Ç') . "\n";
        echo "  - –ò–≥–Ω–æ—Ä: " . ($spam['ignore'] ? '–î–∞' : '–ù–µ—Ç') . "\n";
        
        // –ó–≤—ë–∑–¥–Ω–æ—Å—Ç—å
        $stars = $userInfo['result']['stars'];
        echo "–ó–≤—ë–∑–¥–Ω–æ—Å—Ç—å: $stars\n";
        
        // –ú–µ—à–æ–∫
        $pocket = $userInfo['result']['pocket'];
        echo "–ú–µ—à–æ–∫:\n";
        echo "  - –ò—Ä–∏—Å–∫–∏: " . $pocket['sweets'] . "\n";
        echo "  - –ì–æ–ª–¥–∞: " . $pocket['gold'] . "\n";
        echo "  - –ó–≤—ë–∑–¥—ã: " . $pocket['stars'] . "\n";
        echo "  - –ú–æ–Ω–µ—Ç—ã: " . $pocket['coins'] . "\n";
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        if ($api->userInfo()->isBlacklisted($userId)) {
            echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —á—ë—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ!\n";
            return false;
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        $dailyActivity = $api->userInfo()->getDailyActivity($userId);
        if ($dailyActivity < 5) {
            echo "‚ö†Ô∏è  –ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n";
        }
        
        echo "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä–µ–Ω —É—Å–ø–µ—à–Ω–æ\n";
        return true;
        
    } catch (ApiException $e) {
        echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: " . $e->getMessage() . "\n";
        return false;
    }
}

function checkMultipleUsers($userIds) {
    global $api;
    
    echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ===\n";
    
    foreach ($userIds as $userId) {
        echo "\n--- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å $userId ---\n";
        
        try {
            // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ —Å–ø–∞–º-—Å—Ç–∞—Ç—É—Å–∞
            if ($api->userInfo()->isSpam($userId)) {
                echo "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–ø–∞–º-–±–∞–∑–µ\n";
                continue;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∑–≤—ë–∑–¥–Ω–æ—Å—Ç—å
            $info = $api->userInfo()->getMultipleInfo($userId, ['activity', 'stars']);
            
            $activity = $info['result']['activity'];
            $stars = $info['result']['stars'];
            
            echo "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: " . $activity['total'] . "\n";
            echo "–ó–≤—ë–∑–¥–Ω–æ—Å—Ç—å: $stars\n";
            
            if ($activity['total'] > 1000 && $stars > 3) {
                echo "‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ö–æ—Ä–æ—à–µ–π —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π\n";
            } else {
                echo "‚ö†Ô∏è  –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\n";
            }
            
        } catch (ApiException $e) {
            echo "‚ùå –û—à–∏–±–∫–∞: " . $e->getMessage() . "\n";
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
checkUser(123456);
checkMultipleUsers([123456, 789012, 345678]);
```

### –¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';

use IrisSweetsApi\IrisSweets;
use IrisSweetsApi\Exception\ApiException;

$api = new IrisSweets();

class TradingBot {
    private $api;
    private $minSpread = 0.05; // –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–ø—Ä–µ–¥ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
    private $maxVolume = 100;  // –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –∑–∞—è–≤–∫–∏
    
    public function __construct($api) {
        $this->api = $api;
    }
    
    public function analyzeMarket() {
        try {
            // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã
            $bestBid = $this->api->exchange()->getBestBidPrice();
            $bestAsk = $this->api->exchange()->getBestAskPrice();
            $spread = $this->api->exchange()->getSpread();
            
            echo "=== –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ ===\n";
            echo "–õ—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏: $bestBid\n";
            echo "–õ—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏: $bestAsk\n";
            echo "–°–ø—Ä–µ–¥: $spread\n";
            
            if ($spread >= $this->minSpread) {
                echo "‚úÖ –•–æ—Ä–æ—à–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏\n";
                return ['bid' => $bestBid, 'ask' => $bestAsk, 'spread' => $spread];
            } else {
                echo "‚ö†Ô∏è –°–ø—Ä–µ–¥ —Å–ª–∏—à–∫–æ–º –º–∞–ª –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏\n";
                return null;
            }
            
        } catch (ApiException $e) {
            echo "‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞: " . $e->getMessage() . "\n";
            return null;
        }
    }
    
    public function placeArbitrageOrders($marketData) {
        if (!$marketData) return;
        
        try {
            $bid = $marketData['bid'];
            $ask = $marketData['ask'];
            $spread = $marketData['spread'];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—è–≤–∫–∏
            $orders = $this->api->trade()->getMyOrders();
            $activeBuyOrders = count($orders['result']['buy']);
            $activeSellOrders = count($orders['result']['sell']);
            
            echo "=== –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –∑–∞—è–≤–æ–∫ ===\n";
            echo "–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É: $activeBuyOrders\n";
            echo "–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É: $activeSellOrders\n";
            
            // –ï—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫, —Ä–∞–∑–º–µ—â–∞–µ–º –Ω–æ–≤—ã–µ
            if ($activeBuyOrders === 0 && $activeSellOrders === 0) {
                // –ü–æ–∫—É–ø–∫–∞ –ø–æ —Ü–µ–Ω–µ —á—É—Ç—å –≤—ã—à–µ –ª—É—á—à–µ–π
                $buyPrice = $bid + 0.01;
                $buyResult = $this->api->trade()->buy($buyPrice, 10);
                echo "‚úÖ –†–∞–∑–º–µ—â–µ–Ω–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É –ø–æ —Ü–µ–Ω–µ $buyPrice\n";
                
                // –ü—Ä–æ–¥–∞–∂–∞ –ø–æ —Ü–µ–Ω–µ —á—É—Ç—å –Ω–∏–∂–µ –ª—É—á—à–µ–π
                $sellPrice = $ask - 0.01;
                $sellResult = $this->api->trade()->sell($sellPrice, 10);
                echo "‚úÖ –†–∞–∑–º–µ—â–µ–Ω–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –ø–æ —Ü–µ–Ω–µ $sellPrice\n";
            }
            
        } catch (ApiException $e) {
            echo "‚ùå –û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∑–∞—è–≤–æ–∫: " . $e->getMessage() . "\n";
        }
    }
    
    public function manageOrders() {
        try {
            $orders = $this->api->trade()->getMyOrders();
            $buyOrders = $orders['result']['buy'];
            $sellOrders = $orders['result']['sell'];
            
            echo "=== –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ ===\n";
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É
            foreach ($buyOrders as $order) {
                $orderPrice = $order['price'];
                $orderVolume = $order['volume'];
                $orderId = $order['id'];
                
                // –ï—Å–ª–∏ —Ü–µ–Ω–∞ –∑–∞—è–≤–∫–∏ —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ –æ—Ç —Ä—ã–Ω–∫–∞, –æ—Ç–º–µ–Ω—è–µ–º
                $currentBid = $this->api->exchange()->getBestBidPrice();
                if ($orderPrice < $currentBid - 0.1) {
                    $this->api->trade()->cancelPart($orderId, $orderVolume);
                    echo "‚ùå –û—Ç–º–µ–Ω–µ–Ω–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É #$orderId (—Ü–µ–Ω–∞ $orderPrice)\n";
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
            foreach ($sellOrders as $order) {
                $orderPrice = $order['price'];
                $orderVolume = $order['volume'];
                $orderId = $order['id'];
                
                // –ï—Å–ª–∏ —Ü–µ–Ω–∞ –∑–∞—è–≤–∫–∏ —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ –æ—Ç —Ä—ã–Ω–∫–∞, –æ—Ç–º–µ–Ω—è–µ–º
                $currentAsk = $this->api->exchange()->getBestAskPrice();
                if ($orderPrice > $currentAsk + 0.1) {
                    $this->api->trade()->cancelPart($orderId, $orderVolume);
                    echo "‚ùå –û—Ç–º–µ–Ω–µ–Ω–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É #$orderId (—Ü–µ–Ω–∞ $orderPrice)\n";
                }
            }
            
        } catch (ApiException $e) {
            echo "‚ùå –û—à–∏–±–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏: " . $e->getMessage() . "\n";
        }
    }
    
    public function getTradingStats() {
        try {
            $orders = $this->api->trade()->getMyOrders();
            $count = $this->api->trade()->getOrdersCount();
            
            echo "=== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ ===\n";
            echo "–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫: " . $count['total_count'] . "\n";
            echo "–ó–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É: " . $count['buy_count'] . "\n";
            echo "–ó–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É: " . $count['sell_count'] . "\n";
            
            if ($count['total_count'] > 0) {
                $totalBuyVolume = $this->api->trade()->getTotalBuyVolume();
                $totalSellVolume = $this->api->trade()->getTotalSellVolume();
                
                echo "–û–±—â–∏–π –æ–±—ä–µ–º –ø–æ–∫—É–ø–æ–∫: $totalBuyVolume\n";
                echo "–û–±—â–∏–π –æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂: $totalSellVolume\n";
            }
            
        } catch (ApiException $e) {
            echo "‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: " . $e->getMessage() . "\n";
        }
    }
    
    public function run() {
        echo "ü§ñ –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞...\n\n";
        
        while (true) {
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä—ã–Ω–æ–∫
            $marketData = $this->analyzeMarket();
            
            // –£–ø—Ä–∞–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞—è–≤–∫–∞–º–∏
            $this->manageOrders();
            
            // –†–∞–∑–º–µ—â–∞–µ–º –Ω–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
            $this->placeArbitrageOrders($marketData);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            $this->getTradingStats();
            
            echo "\n‚è∞ –û–∂–∏–¥–∞–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥...\n";
            sleep(30);
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
$bot = new TradingBot($api);
$bot->run();
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
git pull origin main
composer update
```
---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Iris –ß–∞—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä**

